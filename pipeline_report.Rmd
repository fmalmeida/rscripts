---
title: "Annotation Report"
author: "`r params$query` genome assembly"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  html_document:
    theme: united
    toc: false
    df_print: paged
    self_contained: yes
    number_sections: false
params:
  query: Query
  output_dir: output
  input_fasta: Query fasta
  prefix: Out
---

<style type="text/css">

body{ /* Normal  */
      font-size: 16px;
}
.main-container {
  max-width: 90% !important;
  margin-left: auto;
  margin-right: auto;
}
</style>

```{r setup, echo=FALSE}
library(magrittr)
library(knitr)
library(data.table)

# Set directory name
Sys.setenv(dir = params$output_dir)
```

# Bacannot Report {.tabset .tabset-fade .tabset-pills}

## About

Annotation report of `r params$query` genome assembly. This report is automatically produced by the [bacannot pipeline](https://github.com/fmalmeida/bacannot). The main annotation results of the pipeline are summarized in this report.

This pipeline uses a variety of state-of-the-art pipelines and databases to unravel a given prokaryotic genome. Its annotation workflow is represented in the image below:

```{r pipeline-workflow, out.width="70%",out.height="20%",fig.cap="Bacannot annotation workflow",fig.show='hold',fig.align='center', fig.pos='H', echo=FALSE}
include_graphics("/home/falmeida/Documents/dataset_1/bacannot_test/spades_test_ecoli/bacannot_workflow.png")
```

### Contact information:

+ Felipe Marques de Almeida
    + <falmeida@aluno.unb.br>
    + <almeidafmarques@outlook.com>

## Report content information

The pipeline was successfully executed. Annotation was executed for the following genome file: ``r params$input_fasta``. This report contains a generic summary of the results. Results are stored in ``r params$output_dir`` directory using the following organization. Each subdirectory contains a specific annotation results, for instance:
  
* **Prokka** directory contains all the outputs of `prokka` execution
* **MLST** directory contains the MLST analysis results produced by the [`mlst`](https://github.com/tseemann/mlst) execution
* Etc.

**Warning**: Since the execution of additional blasts is optional, this report may not contain a section for some databases or steps.

```{bash}
tree -d -L 2 $dir
```

## Generic Annotation